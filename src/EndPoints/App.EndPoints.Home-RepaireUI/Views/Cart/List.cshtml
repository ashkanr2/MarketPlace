@model List<App.EndPoints.Home_RepaireUI.Models.Cart.CartViewModel>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewData["Title"] = "لیست سبد های خرید";
}

<div class="col-lg-12">
    <div class="portlet box border shadow">
        <div class="portlet-heading">
            <div class="portlet-title">
                <h3 class="title text text-center text-warning">
                    لیست سبد ها
                </h3>
            </div><!-- /.portlet-title -->

        </div><!-- /.portlet-heading -->
        <div class="portlet-body">
            <div class="table-responsive">
                <div id="data-table_wrapper" class="dataTables_wrapper no-footer">
                    
                    <table class="table table-bordered table-hover table-striped dataTable no-footer" id="data-table" role="grid" aria-describedby="data-table_info" style="width: 100%;">
                        <thead>
                            <tr role="row">
                                <th class="sorting_asc" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-sort="ascending" aria-label="ردیف: activate to sort column descending" style="width: 175.535px;">ردیف</th>
                                <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="ماده غذایی: activate to sort column ascending" style="width: 433.674px;">نام کالا</th>
                                <th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="مقدار: activate to sort column ascending" style="width: 180.25px;">تاریخ تاسیس</th>
                                <td class="sorting_disabled" rowspan="1" colspan="1" aria-label="عملیات" style="width: 211.174px;">عملیات</td>
                            </tr>
                        </thead>
                        <tbody>
                            @if(Model == null)
                            {
                                <tr class="table-info">
                                    <td></td>
                                    <td></td>
                                    <td></td>

                                </tr>
                            }


                            @if (Model != null)
                            {
                                int count = 1;
                                foreach (var cartViewModel in Model)
                                {
                                    <tr class="table-info">
                                        <td>@count</td>
                                        @foreach (var productViewModel in cartViewModel.CartProducts)
                                        {
                                            <td>@productViewModel.ProductName</td>
                                        }
                                        <td>@cartViewModel.CreateTime</td>
                                        <td>
                                            <a asp-action="Index" asp-controller="Cart" class="btn btn-info btn-round" asp-route-cartId="@cartViewModel.Id">
                                                مشاهده جزئیات
                                            </a>
                                        </td>
                                    </tr>
                                    count++;
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div><!-- /.table-responsive -->
        </div><!-- /.portlet-body -->
    </div><!-- /.portlet -->
</div>
